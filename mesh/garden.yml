module:
  name: mesh
  description: Generates vector and mesh.
  type: container
  build:
    dependencies: [base-image]
  buildArgs:
    BASE_IMAGE_VERSION: ${modules.base-image.version}
  hotReload:
    sync:
      - target: /go/src/app
  services:
    - name: mesh
      hotReloadArgs:
        ["gin", "-p", "8080", "-a", "8081", "run", "main.go", "8081"]
      ports:
        - name: http
          containerPort: 8080
      ingresses:
        - path: /mesh
          port: http
          annotations: 
            "nginx.ingress.kubernetes.io/proxy-body-size": "0"